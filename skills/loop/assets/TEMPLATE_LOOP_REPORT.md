# Loop Iteration Report — Failure Mode Analysis
**Iteration**: `N`
**Date**: `[YYYY-MM-DD]`
**Workload**: `[workloadId]`
**Filename Convention**: `sessions/[YYYY_MM_DD]_[TOPIC]/LOOP_REPORT_NNN.md`

## 1. Iteration Summary

*   **Pass Rate**: `X/Y` cases passing (`Z%`)
*   **Delta from Baseline**: `+/-N` cases (`+/-M%`)
*   **Delta from Previous**: `+/-N` cases (`+/-M%`)
*   **Hypothesis Tested**: "[The hypothesis for this iteration]"
*   **Hypothesis Outcome**: [Confirmed / Rejected / Partially Confirmed]
*   **Edit Applied**: "[Brief description of the artifact change]"

## 2. Failure Modes

*Categorized failure patterns observed in this iteration's review.*

### 2.1. [Failure Mode Name]
*   **Category**: [e.g., Structural Error / Value Error / Missing Data / Format Error]
*   **Severity**: [Blocking / Degraded / Minor]
*   **Frequency**: `N/Y` cases affected (`Z%`)
*   **Pattern**: "[Description of the failure pattern — what goes wrong and how]"
*   **Example**: "[Concrete example from a specific case]"
*   **Cases Affected**:
    *   `case/path/name-1` — [specific symptom]
    *   `case/path/name-2` — [specific symptom]

### 2.2. [Failure Mode Name]
*   **Category**: ...
*   **Severity**: ...
*   **Frequency**: ...
*   **Pattern**: ...
*   **Example**: ...
*   **Cases Affected**:
    *   ...

## 3. Root Cause Analysis

*Composer's diagnosis of why these failure modes occur.*

### 3.1. [Root Cause Title]
*   **Related Failure Modes**: 2.1, 2.2
*   **Diagnosis**: "[Why the current artifacts produce this failure — structural analysis of the prompt/schema gap]"
*   **Evidence**: "[Specific observations supporting this diagnosis]"
*   **Confidence**: [High / Medium / Low]

### 3.2. [Root Cause Title]
*   **Related Failure Modes**: ...
*   **Diagnosis**: ...
*   **Evidence**: ...
*   **Confidence**: ...

## 4. Fix Options

*Structural prompt engineering fixes proposed by the Composer.*

### 4.1. [Recommended] — [Fix Title]
*   **Mechanism**: "[The prompt engineering technique — e.g., anchoring rule, negative example, boundary constraint]"
*   **Target**: `[file:lines]` — "[section being modified]"
*   **Expected Impact**: "[Which failure modes this addresses and predicted improvement]"
*   **Regression Risk**: [Low / Medium / High] — "[What might break]"

### 4.2. [Alternative A] — [Fix Title]
*   **Mechanism**: ...
*   **Target**: ...
*   **Expected Impact**: ...
*   **Regression Risk**: ...

### 4.3. [Alternative B] — [Fix Title]
*   **Mechanism**: ...
*   **Target**: ...
*   **Expected Impact**: ...
*   **Regression Risk**: ...

## 5. Regression Risks

*What could go wrong if the recommended fix is applied.*

*   **Risk 1**: "[Description — e.g., looser matching may increase false positives on dense layouts]"
    *   **Likelihood**: [Low / Medium / High]
    *   **Mitigation**: "[How to detect or prevent — e.g., regression guard cases X, Y]"

*   **Risk 2**: ...
    *   **Likelihood**: ...
    *   **Mitigation**: ...

## 6. Case-by-Case Breakdown

*Per-case status for this iteration. Includes both passing and failing cases.*

### Failing Cases

*   **`case/path/name-1`**
    *   **Status**: Failing
    *   **Failure Mode**: 2.1 ([name])
    *   **Symptom**: "[What went wrong — e.g., bounding box extends 20px below scope boundary]"
    *   **Previous Status**: [Failing / Passing / New]

*   **`case/path/name-2`**
    *   **Status**: Failing
    *   **Failure Mode**: 2.2 ([name])
    *   **Symptom**: ...
    *   **Previous Status**: ...

### Passing Cases (Summary)

*   `case/path/name-3` — Passing (unchanged)
*   `case/path/name-4` — Passing (fixed this iteration, was failing mode 2.1)
*   `case/path/name-5` — Passing (unchanged)

### Regressions (if any)

*   **`case/path/name-6`**
    *   **Status**: Regressed (was passing, now failing)
    *   **Failure Mode**: 2.1 ([name])
    *   **Symptom**: ...
    *   **Likely Cause**: "[Connection to this iteration's edit]"

## 7. Reasoning Trail

*Connecting this iteration's analysis to the broader iteration history.*

[1-2 paragraphs explaining how previous iterations inform this analysis. What patterns emerged across iterations? Why the current root cause wasn't caught earlier. What new evidence from this iteration changes our understanding.]

---
*Generated by Composer subagent | Iteration N | Session: sessions/[YYYY_MM_DD]_[TOPIC]*
